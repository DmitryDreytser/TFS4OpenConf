<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta name="generator" content=
"HTML Tidy for Windows (vers 1st March 2004), see www.w3.org">
<meta http-equiv="content-type" content=
"text/html; charset=windows-1251">
<title>Интерфейсы (версия 1.2 бета от 22.05.2004)</title>
<meta name="author" content=
"Дмитрий Павлюк &lt;dmp@myrealbox.com&gt;">
<meta name="description" content="Описание формата интерфейсов">
</head>
<body>
<h1><a name="Title" id="Title"></a>Интерфейсы (версия 1.2 бета от
22.05.2004)</h1>
Данный документ доступент по следующим адрессам:<br>
<a href=
"http://sourceforge.net/projects/lproject">http://sourceforge.net/projects/lproject</a><br>

<a href="http://1l.w4b.ru/">http://1l.w4b.ru/</a><br>
Авторство принадлежит:<br>
Copyright © 2004 Дмитрий Павлюк &lt;dmp@myrealbox.com&gt; - Автор 
данной модификации<br>
Copyright © 2004 Алексей Диркс
<p>Каждый имеет право воспроизводить, распространять и/или вносить
изменения в настоящий документ в соответствии с условиями GNU Free
Documentation License, версией 1.2 или любой более поздней версией,
опубликованной Free Software Foundation;</p>
Данный документ не содержит неизменяемых разделов, текста,
помещаемого на первой странице обложки, и текста, помещаемого на
последней странице обложки.<br>
<p>Копия GNU Free Documentation License помещена в файл под
названием "<a href="GNU_FDL.html">GNU_FDL.html</a>".<br></p>
<hr width="100%" size="2">
<h2><a name="Contents" id="Contents"></a>Содержание</h2>
<ol>
<li><a href="#%D1ontents">Содержание</a></li>
<li><a href="#History">История</a></li>
<li><a href="#Thanks">Благодарности</a><br></li>
<li><a href="#Introduction">Введение</a></li>
<li><a href="#Commands">Комманды</a><br></li>
<li><a href="#Page.1">Меню</a><br></li>
<li><a href="#Page.2">Панель кнопок</a></li>
</ol>
<hr width="100%" size="2">
<h2><a name="History" id="History"></a>История</h2>
Предедущее название документа - "Формат интерфейсов".<br>
Предедущая версия документа доступка по адресу - <a href=
"http://1c.alterplast.ru/gcomp/">http://1c.alterplast.ru/gcomp/</a>.<br>

На данный момент документ, так же будет поддерживаться проектом
<a href="http://1l.w4b.ru/">1L</a> и доступен с <a href=
"http://sourceforge.net/projects/lproject">sf.net</a>.<br>
<br>
Copyright © 2004 Дмитрий Павлюк &lt;dmp@realbox.com&gt; -
Оформление даного документа, в виде HTML файла. И поддержка в
проекте <a href="http://1l.w4b.ru/">1L</a>.<br>
Copyright © 2004 Алексей Диркс - Написана оригальная версия этого
файла, в формате *.TXT.<br>
<hr width="100%" size="2">
<h2><a name="Thanks" id="Thanks"></a>Благодарности</h2>
Спасибо Федору Езееву (проект <a href=
"http://1c.alterplast.ru/gcomp/" class=
"moz-txt-link-freetext">GComp</a><span class=
"moz-txt-link-freetext">)</span>, за предоставление файла
Interfaces.txt, который и является основой данного документа.
<hr width="100%" size="2">
<h2><a name="Introduction" id="Introduction"></a>Введение</h2>
<hr width="100%" size="2">
<h2><a name="Commands" id="Commands"></a>Commands - команды</h2>
Заголовок базового интерфейса<br>
    08 00 00 00<br>
    длина описания интерфейса - 1 байт (м.б.0x00)<br>
    Описание интерфейса<br>
    4 байта: 0x00 - меню "операции" присутствует; 0x01 - меню
"операции" отключено<br>
    4 байта: 0x01 - использовать при отключенной авторизации<br>
    Количество команд - 4 байта<br>
    [Список команд]<br>
<br>
Заголовок подчинённого интерфейса<br>
    08 00 00 00<br>
    длина наименования родительского интерфейса - 1 байт (м.б.
0x00)<br>
    Наименование родительского интерфейса<br>
    4 байта: 0x00 - меню "операции" присутствует; 0x01 - меню
"операции" отключено<br>
    4 байта: 0x01 - использовать при отключенной авторизации<br>
    длина описания интерфейса - 1 байт (м.б.0x00)<br>
    Описание интерфейса<br>
    Количество команд - 4 байта<br>
    [Список команд]<br>
<br>
Команда основного интерфейса:<br>
    Идентификатор - 4 байт (начинается с 0x0000C000)<br>
    Длина - 1 байт<br>
    Текст (непонятно что это. Для справочников, если не указана<br>
        явно форма списка - &lt;Идентификатор&gt;.Открыть) (м.б.
0)<br>
    Длина подсказки - 1 байт<br>
    Подсказка<br>
    Горячая клавиша - 3 байта<br>
        модификатор - 1 байт (Alt - 0x11, Ctrl - 0x09, Shift - 0x05
и их OR комбинации)<br>
        скан-код - 2 байта<br>
    Длина команды - 1 байт<br>
    Команда (типа Документ.Доверенность.Ввести)<br>
    Длина дополнительного параметра - 1 байт (м.б. 0)<br>
    Доп. параметр (типа &lt;форма списка&gt; или
ОткрытьФормуМодально). М.б. несколько<br>
        параметров - тогда они разделяются символом 0x0A ('\n')<br>
    <br>
Команда подчинённого интерфейса:<br>
    Длина команды - 1 байт<br>
    Команда<br>
    Длина дополнительного параметра - 1 байт (м.б. 0)<br>
    Доп. параметр<br>
<hr width="100%" size="2">
<h2><a name="Page.1" id="Page.1"></a>Page.1 - меню</h2>
Заголовок:<br>
    01 00 00 00<br>
    Количество субменю - 4 байта<br>
    [группы меню]<br>
<br>
Группа меню:<br>
    FF FF FF FF<br>
    длина текста - 1 байт<br>
    Текст<br>
    количество элементов - 4 байта (причём считаются только
элементы - субменю не считаются)<br>
    [элементы и группы меню]<br>
<br>
Элемент меню:<br>
    числовой идентификатор элемента в меню - 4 байт. Отсчёт
начинается с 0x0000C000<br>
    длина текста - 1 байт<br>
    текст<br>
<br>
Разделитель элементов меню:<br>
    00 00 00 00<br>
<hr width="100%" size="2">
<h2><a name="Page.2" id="Page.2"></a>Page.2 - панели кнопок</h2>
Заголовок:<br>
    FD FF FF FF<br>
    Количество панелей - 4 байта<br>
    [список панелей]<br>
    [описания кнопок и разделителей] (количество вычисляется как
сумма по всем панелям)<br>
    Количество кнопок с надписями - 4 байта<br>
    [описания кнопок с надписями]<br>
    Количество кнопок с картинками - 4 байта<br>
    [описания кнопок с картинками]<br>
    BMP с образами кнопок (высота - 15, ширина - 16*&lt;количество
кнопок&gt;<br>
<br>
Панель:<br>
    Длина названия - 1 байт<br>
    Название<br>
    Количество кнопок - 4 байта<br>
    Расположение - 4 байта (0xE81B - сверху, 0xE81C - слева, 0xE81D
- справа, 0xE81E - снизу)<br>
    Показывать - 4 байта (0x00 - не показывать, 0x01 -
показывать)<br>
    С новой строки - 4 байта (0x00 - на той же строке, 0x01 - с
новой строки)<br>
   <br>
Описание кнопки:<br>
    идентификатор кнопки - 4 байта<br>
<br>
Описание кнопки с надписью:<br>
    длина надписи - 1 байт<br>
    надпись<br>
    идентификатор кнопки - 4 байта<br>
<br>
</body>
</html>
